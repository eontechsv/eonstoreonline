<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EON Tech SV</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: #0b0f14;
  color: #fff;
}

/* HEADER */
header {
  text-align: center;
  padding: 20px 10px;
}
header img {
  width: 110px;
}
header h1 {
  margin: 8px 0 0;
  color: #00f5ff;
}

/* CONTENEDOR */
.container {
  max-width: 520px;
  margin: auto;
  padding: 10px;
}

/* PRODUCTOS */
.product {
  background: #121826;
  border-radius: 18px;
  padding: 15px;
  margin-bottom: 22px;
  animation: fadeUp 0.4s ease;
}
.product img {
  width: 100%;
  border-radius: 14px;
}
.product h3 {
  margin: 10px 0 5px;
  color: #00f5ff;
}
.product p {
  font-size: 14px;
  opacity: 0.9;
}
.product button {
  width: 100%;
  padding: 14px;
  margin-top: 10px;
  border-radius: 14px;
  border: none;
  background: linear-gradient(135deg,#00f5ff,#00c2cc);
  font-weight: bold;
  font-size: 15px;
}

/* CARRITO */
.cart {
  background: #121826;
  border-radius: 18px;
  padding: 15px;
}
.cart li {
  list-style: none;
  background: #0f1624;
  margin-bottom: 8px;
  padding: 10px;
  border-radius: 10px;
  font-size: 14px;
}
.cart-total {
  margin-top: 10px;
  font-size: 16px;
  color: #00f5ff;
}
.cart button {
  margin-top: 10px;
  width: 100%;
  padding: 14px;
  border-radius: 14px;
  border: none;
  background: #25D366;
  color: white;
  font-size: 15px;
}

/* MODAL */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.65);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 999;
}
.modal-box {
  background: #121826;
  width: 90%;
  max-width: 360px;
  border-radius: 20px;
  padding: 15px;
  animation: fadeUp 0.3s ease;
}
.modal-box img {
  width: 100%;
  border-radius: 14px;
}
.color-options {
  display: flex;
  gap: 10px;
  margin: 10px 0;
}
.color {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  border: 2px solid #fff;
}
.color.selected {
  outline: 3px solid #00f5ff;
}
input {
  width: 100%;
  padding: 10px;
  border-radius: 12px;
  border: none;
}
.modal-box button {
  width: 100%;
  padding: 14px;
  border-radius: 14px;
  border: none;
  margin-top: 10px;
}
.btn-add {
  background: linear-gradient(135deg,#00f5ff,#00c2cc);
  font-weight: bold;
}
.btn-cancel {
  background: #ff3b3b;
  color: white;
}

/* BOTÃ“N WHATSAPP */
.whatsapp {
  position: fixed;
  bottom: 15px;
  right: 15px;
  background: #25D366;
  width: 55px;
  height: 55px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  color: white;
  text-decoration: none;
}

/* ANIMACIÃ“N */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
</head>

<body>

<header>
  <img src="logotipo.png.jpeg">
  <h1>EON Tech SV</h1>
</header>

<div class="container">

<!-- PRODUCTOS -->
<div class="product">
  <img src="reloj%20inteligente.jpg.jpeg">
  <h3>âŒš SmartWatch T900 Pro Max</h3>
  <p>$20 Â· Negro Â· Blanco Â· Rosado</p>
  <button onclick="openModal('SmartWatch T900 Pro Max',20,'reloj%20inteligente.jpg.jpeg')">Comprar</button>
</div>

<div class="product">
  <img src="airpods.jpg.jpeg">
  <h3>ðŸŽ§ AirPods 2Âª GeneraciÃ³n</h3>
  <p>$25 Â· Bluetooth Â· Sonido HD</p>
  <button onclick="openModal('AirPods 2Âª GeneraciÃ³n',25,'airpods.jpg.jpeg')">Comprar</button>
</div>

<!-- CARRITO -->
<div class="cart">
  <h3>ðŸ›’ Carrito</h3>
  <ul id="cartList"></ul>
  <div class="cart-total" id="cartTotal"></div>
  <button onclick="sendWhatsApp()">Finalizar pedido</button>
</div>

</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-box">
    <img id="modalImg">
    <h3 id="modalName"></h3>
    <p id="modalPrice"></p>

    <strong>Color</strong>
    <div class="color-options">
      <div class="color" style="background:black" onclick="selectColor('Negro',this)"></div>
      <div class="color" style="background:white" onclick="selectColor('Blanco',this)"></div>
      <div class="color" style="background:pink" onclick="selectColor('Rosado',this)"></div>
    </div>

    <strong>Cantidad</strong>
    <input type="number" id="qty" min="1" value="1">

    <button class="btn-add" onclick="addToCart()">Agregar al carrito</button>
    <button class="btn-cancel" onclick="closeModal()">Cancelar</button>
  </div>
</div>

<a class="whatsapp" href="https://wa.me/50375268799" target="_blank">ðŸ’¬</a>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
let current = {};
let selectedColor = "Negro";

updateCart();

function openModal(name, price, img) {
  current = { name, price, img };
  document.getElementById("modalImg").src = img;
  document.getElementById("modalName").innerText = name;
  document.getElementById("modalPrice").innerText = "$" + price;
  document.getElementById("modal").style.display = "flex";
}

function closeModal() {
  document.getElementById("modal").style.display = "none";
}

function selectColor(color, el) {
  selectedColor = color;
  document.querySelectorAll(".color").forEach(c => c.classList.remove("selected"));
  el.classList.add("selected");
}

function addToCart() {
  const qty = parseInt(document.getElementById("qty").value);
  cart.push({ ...current, color: selectedColor, qty });
  localStorage.setItem("cart", JSON.stringify(cart));
  closeModal();
  updateCart();
}

function updateCart() {
  const list = document.getElementById("cartList");
  const totalText = document.getElementById("cartTotal");
  list.innerHTML = "";
  let total = 0;
  let count = 0;

  cart.forEach(p => {
    total += p.price * p.qty;
    count += p.qty;
    list.innerHTML += `<li>${p.name} (${p.color}) x${p.qty}</li>`;
  });

  if (count >= 3) {
    total *= 0.96;
    totalText.innerText = "Total con descuento: $" + total.toFixed(2);
  } else {
    totalText.innerText = "Total: $" + total.toFixed(2);
  }
}

function sendWhatsApp() {
  let msg = "ðŸ›’ Pedido EON Tech SV%0A";
  cart.forEach(p => {
    msg += `â€¢ ${p.name} (${p.color}) x${p.qty}%0A`;
  });
  msg += `%0ATotal: $${document.getElementById("cartTotal").innerText.replace(/[^0-9.]/g,'')}`;
  window.open("https://wa.me/50375268799?text=" + msg);
}
</script>

</body>
</html>
